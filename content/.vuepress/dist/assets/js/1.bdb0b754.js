(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{150:function(t,e,a){t.exports=a.p+"assets/img/realdashboard.775b88ee.png"},151:function(t,e,a){t.exports=a.p+"assets/img/allwidgets.17c3d9a0.png"},152:function(t,e,a){t.exports=a.p+"assets/img/createchart.8fa90bad.png"},153:function(t,e,a){t.exports=a.p+"assets/img/allsensors.19d939a8.png"},154:function(t,e,a){t.exports=a.p+"assets/img/lasttempsim.652de76e.png"},155:function(t,e,a){t.exports=a.p+"assets/img/lasttemp.dba58560.png"},156:function(t,e,a){t.exports=a.p+"assets/img/widgets.2ecc7e3c.png"},157:function(t,e,a){t.exports=a.p+"assets/img/templates.320da835.png"},158:function(t,e,a){t.exports=a.p+"assets/img/11-associate.5f1adfb0.png"},159:function(t,e,a){t.exports=a.p+"assets/img/9-Webhookbuilder.671f5be5.png"},160:function(t,e,a){t.exports=a.p+"assets/img/8-IntOpts.f5fdf87f.png"},161:function(t,e,a){t.exports=a.p+"assets/img/7-Integrations.003d7bdd.png"},162:function(t,e,a){t.exports=a.p+"assets/img/6-npminstall.0949633a.png"},163:function(t,e,a){t.exports=a.p+"assets/img/5-ScopeAndSAS.bcb7c6df.png"},164:function(t,e,a){t.exports=a.p+"assets/img/5-README.15aa3d7e.png"},165:function(t,e,a){t.exports=a.p+"assets/img/alltelemetry.b9e9baba.png"},166:function(t,e,a){t.exports=a.p+"assets/img/createtelemetry.73efb57e.png"},167:function(t,e,a){t.exports=a.p+"assets/img/addtelemetry.fcb4f6cc.png"},168:function(t,e,a){t.exports=a.p+"assets/img/templatehome.02b7bb6b.png"},169:function(t,e,a){t.exports=a.p+"assets/img/centralhome.bf1a5283.png"},170:function(t,e,a){t.exports=a.p+"assets/img/centralmyapps.fc156e18.png"},171:function(t,e,a){t.exports=a.p+"assets/img/centralinstance.1fbb22ae.png"},172:function(t,e,a){t.exports=a.p+"assets/img/centralcreate.523c453e.png"},173:function(t,e,a){t.exports=a.p+"assets/img/centralbuild.8746f59c.png"},174:function(t,e,a){t.exports=a.p+"assets/img/azureacct.d865c7cf.png"},175:function(t,e,a){t.exports=a.p+"assets/img/curlcall.64f3b77c.gif"},176:function(t,e,a){t.exports=a.p+"assets/img/curllist.d0d65fc2.gif"},177:function(t,e,a){t.exports=a.p+"assets/img/temp.61c682e4.gif"},178:function(t,e,a){t.exports=a.p+"assets/img/particlelist.085a96a6.gif"},179:function(t,e,a){t.exports=a.p+"assets/img/particlelogin.14fc48ea.gif"},230:function(t,e,a){"use strict";a.r(e);var s=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"chapter-3-using-particle-integrations-and-azure-iot-central"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chapter-3-using-particle-integrations-and-azure-iot-central","aria-hidden":"true"}},[this._v("#")]),this._v(" Chapter 3: Using Particle Integrations and Azure IoT Central")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[e("strong",[this._v("Project Goal")])]),e("th",[this._v("Use Particle Integrations to connect your app to Azure IoT Central.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("What you’ll learn")])]),e("td",[this._v("Working with Particle Integrations, Integrating Particle projects with Azure IoT Central")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Tools you’ll need")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Time needed to complete")])]),e("td",[this._v("60 minutes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"exploring-the-particle-cli-and-device-cloud-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exploring-the-particle-cli-and-device-cloud-api","aria-hidden":"true"}},[this._v("#")]),this._v(" Exploring the Particle CLI and Device Cloud API")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"the-particle-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-particle-cli","aria-hidden":"true"}},[this._v("#")]),this._v(" The Particle CLI")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sL https://particle.io/install-cli "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Type "),e("code",[this._v("particle login")]),this._v(" and enter your Particle account email and password when prompted.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(179),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Once you're logged in, type "),e("code",[this._v("particle list")]),this._v(" to see your list of online devices.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(178),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("The device you've been using for this workshop has two variables and one function. Get the value of the "),e("code",[this._v("temp")]),this._v(" variable with the command "),e("code",[this._v("particle get temp")]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(177),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("You can also call one of the two functions to light up the yellow or blue LED button. Type the command "),e("code",[this._v("particle call <your-device-name> toggleLed")]),this._v(" in the terminal. Run the same command again to turn the light off.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"the-particle-device-cloud-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-particle-device-cloud-api","aria-hidden":"true"}},[this._v("#")]),this._v(" The Particle Device Cloud API")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",[a("li",[a("p",[t._v("First, you'll need to obtain an access token from the CLI. Type "),a("code",[t._v("particle token list")]),t._v(" to view the tokens associated with your account. The first one listed is your "),a("code",[t._v("user")]),t._v(" token, and can be used to access the Device Cloud API. If no tokens are listed, generate a new one with "),a("code",[t._v("particle token new")]),t._v(".")])]),a("li",[a("p",[t._v("With your token and Device ID in hand, type the following cURL command into a terminal window, replacing the text below in "),a("code",[t._v("< >")]),t._v(" with your information.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" https://api.particle.io/v1/devices?access_token"),e("span",{attrs:{class:"token operator"}},[this._v("=")]),e("span",{attrs:{class:"token operator"}},[this._v("<")]),this._v("your token"),e("span",{attrs:{class:"token operator"}},[this._v(">")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By default, the response will generate a wall of text in your terminal. If you have Python 2.6+ installed on your machine, you can pipe the output to the "),e("code",[this._v("json.tool")]),this._v(" and get pretty-printed JSON.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://api.particle.io/v1/devices\\?access_token\\"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("your token"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" python -m json.tool\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(176),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{attrs:{start:"3"}},[a("li",[a("p",[t._v("For this next command, you need the Device ID of the Photon attached to your badge. You can find that in the console or via the "),a("code",[t._v("particle list")]),t._v(" CLI command.")])]),a("li",[a("p",[t._v("Let's call the "),a("code",[t._v("toggleLed")]),t._v(" function using the Device Cloud API. Type the following, again replacing the text below in "),a("code",[t._v("< >")]),t._v(" with your information.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://api.particle.io/v1/devices/"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("device id"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/toggleLED \\\n     -d access_token"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("your token"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(175),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"integrating-with-azure-iot-central"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integrating-with-azure-iot-central","aria-hidden":"true"}},[this._v("#")]),this._v(" Integrating with Azure IoT Central")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"setting-up-azure-iot-central"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-azure-iot-central","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting up Azure IoT Central")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(174),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(173),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v('Give the IoT Central Application a name and URL (both must be globally unique). Then, select "Custom application" for the application template,  choose a pricing tier, select a subscription, and choose "United States" for the location. Finally, click "Create" and wait for the deployment to complete.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(172),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("When the deployment completes, you will be navigated to the newly deployed IoT Central Instance.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(171),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(170),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"adding-device-telemetry-and-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adding-device-telemetry-and-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Adding Device Telemetry and Commands")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v('Click the "Create Device Templates" card on the home page. Click "Custom" in the next screen.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(169),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v('Name the template "Particle Argon" and click "Create."')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(168),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v('Click the "New" menu option and select "Telemetry."')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(167),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"9"}},[e("li",[this._v('Fill in the telemetry options using the data below and click "Save."')])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Display Name")]),a("th",[t._v("Field Name")]),a("th",[t._v("Units")]),a("th",[t._v("Minimum Value")]),a("th",[t._v("Maximum Value")]),a("th",[t._v("Decimal Places")])])]),a("tbody",[a("tr",[a("td",[t._v("Temperature")]),a("td",[t._v("temp")]),a("td",[t._v("degF")]),a("td",[t._v("0")]),a("td",[t._v("110")]),a("td",[t._v("0")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(166),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"10"}},[e("li",[this._v("Repeat steps 8-9 for humidity and light, using the values below.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Display Name")]),a("th",[t._v("Field Name")]),a("th",[t._v("Units")]),a("th",[t._v("Minimum Value")]),a("th",[t._v("Maximum Value")]),a("th",[t._v("Decimal Places")])])]),a("tbody",[a("tr",[a("td",[t._v("Humidity")]),a("td",[t._v("humidity")]),a("td",[t._v("%")]),a("td",[t._v("0")]),a("td",[t._v("100")]),a("td",[t._v("0")])]),a("tr",[a("td",[t._v("Light Level")]),a("td",[t._v("light")]),a("td",[t._v("%")]),a("td",[t._v("0")]),a("td",[t._v("100")]),a("td",[t._v("2")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(165),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"creating-the-azure-iot-central-device-bridge-middleware"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-the-azure-iot-central-device-bridge-middleware","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating the Azure IoT Central Device Bridge Middleware")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Middleware (a public API or serverless app) to catch webhooks from Particle and forward data into IoT Central.")]),e("li",[this._v("A Webhook integration to forward Particle events to your middleware.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(164),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("Navigate to the README for the project and click on the Deploy to Azure button. This opens up an Azure Marketplace template that’s preconfigured to add 4 resources to your Azure account: An Azure App Service and App Service plan for hosting the middleware app, a Key vault to hold your IoT Central tokens, and a Storage account.")])]),e("li",[e("p",[this._v("To complete the deployment from the template, select a subscription, resource group, and location. Then, provide the Scope ID and SAS Key for your Central application. These can be obtained from the "),e("code",[this._v("Administration > Device Connection")]),this._v(" screen of your IoT Central application.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(163),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Once the deployment is done, you’ll have an App Service that can securely forward messages to your IoT Central instance. The App Service deployed by this template is a Node.js app, so the next step is to open your function app in the portal, run "),e("code",[this._v("npm install")]),this._v(" to install dependencies and restart the app.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(162),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"creating-the-particle-integration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-the-particle-integration","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating the Particle Integration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(161),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Click the New Integration card, and then click the Webhook option. Be sure not to select the Azure IoT Hub integration.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(160),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("In the Webhook builder, enter the name of the event you want to listen for on the particle side. Let's use "),e("code",[this._v("env-vals")]),this._v(" since that's what we'll use in firmware in the next section. Then, paste in the URL from the Azure App Service function you created in the last step. Leave the request type unchanged and select JSON for the request format. In the last drop-down, select the Particle device you plan to publish events from.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(159),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("In order to get the request payload into a format that your App Service middleware can ingest and forward to IoT Central, you’ll need to customize the default webhook that Particle sends. So, before clicking Create Webhook, click the Advanced Settings link to reveal the request form fields. Click the Custom option button. Copy the snippet below and paste it into the textarea. You may get a "),e("code",[this._v("bad string")]),this._v(" warning from the built-in validator, but you can ignore this message.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"device"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"deviceId"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"{{{PARTICLE_DEVICE_ID}}}"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"measurements"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("PARTICLE_EVENT_VALUE"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("After you’ve changed the payload, click Create Webhook. Now you’re ready to start publishing events through the Particle Device Cloud.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"publishing-sensor-values-from-firmware"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-sensor-values-from-firmware","aria-hidden":"true"}},[this._v("#")]),this._v(" Publishing Sensor Values from Firmware")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("em",[this._v("Skip this section if you completed the BLE Bonus section in Lab 2.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Now, let's modify our firmware to publish Sensor values. First, we'll refactor our firmware to remove the "),e("code",[this._v("delay")]),this._v(" in the loop. While the delay approach is common when getting started with creating embedded applications, it's a blocking operation. This means that any calls you make to the device during a delay may timeout before being received.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("One common way to write periodic code without using "),e("code",[this._v("delay")]),this._v(" is to use the built-in "),e("code",[this._v("millis()")]),this._v(" function and keep track of the elapsed time between the last time you performed an operation (like a temp check) and the wait time between operations.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("First, let's add some global variables to hold the last check time and an interval. Add the following to the top of your project, outside of the "),e("code",[this._v("setup")]),this._v(" and "),e("code",[this._v("loop")]),this._v(".")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" previousCheckMillis "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" checkInterval "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("5000")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Now, in the "),e("code",[this._v("loop")]),this._v(", add a local variable to hold the current time elapsed. The "),e("code",[this._v("millis()")]),this._v(" function returns the number of milliseconds that have elapsed since your device began running the current program.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" currentMillis "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("millis")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Next, remove the "),e("code",[this._v("delay")]),this._v(" at the end of your loop function. Then, wrap the rest of the code with an if statement to see if the "),e("code",[this._v("checkInterval")]),this._v(" time has elapsed.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Make sure you also update the "),a("code",[t._v("previousCheckMillis")]),t._v(" variable to the current "),a("code",[t._v("millis")]),t._v(" time or this "),a("code",[t._v("if")]),t._v(" statement will never evaluate to "),a("code",[t._v("true")]),t._v(" after the first time it runs.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentMillis "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" previousCheckMillis "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" checkInterval"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  previousCheckMillis "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("millis")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token comment"}},[t._v("/* rest of Loop code here */")]),t._v(" \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Your "),e("code",[this._v("loop")]),this._v(" should now look like this:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("loop")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("long")]),t._v(" currentMillis "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("millis")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentMillis "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" previousCheckMillis "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" checkInterval"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    previousCheckMillis "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("millis")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    temp "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("int")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("dht"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTempFarenheit")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    humidity "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("int")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("dht"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getHumidity")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    Serial"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("printlnf")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Temp: %f"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" temp"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    Serial"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("printlnf")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Humidity: %f"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" humidity"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("double")]),t._v(" lightAnalogVal "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("analogRead")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A0"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    currentLightLevel "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("map")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lightAnalogVal"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4095.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("100.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentLightLevel "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("50")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Particle"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("publish")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"light-meter/level"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("String")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentLightLevel"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PRIVATE"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"publishing-a-payload-with-temp-and-humidity-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-a-payload-with-temp-and-humidity-values","aria-hidden":"true"}},[this._v("#")]),this._v(" Publishing a payload with temp and humidity values")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Now, let's send the current temp, humidity and light level using a "),e("code",[this._v("Particle.publish")]),this._v(" event. You'll send a single event with all three values in a single JSON object. To do this, you'll use the "),e("code",[this._v("JSONParserGenerator")]),this._v(" library.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v('Open the Workbench Command Palette (CMD+SHIFT+P or CTRL+SHIFT+P) and select the "Particle: Install Library" option.')])]),e("li",[e("p",[this._v('In the text box, type "JsonParserGeneratorRK" and click enter.')])]),e("li",[e("p",[this._v("At the top of your project, add an include statement:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-cpp extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cpp"}},[e("code",[e("span",{attrs:{class:"token macro property"}},[this._v("#"),e("span",{attrs:{class:"token directive keyword"}},[this._v("include")]),this._v(" "),e("span",{attrs:{class:"token string"}},[this._v('"JsonParserGeneratorRK.h"')])]),this._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{attrs:{start:"4"}},[a("li",[t._v("Add a new function to your app called "),a("code",[t._v("createEventPayload")]),t._v(" that takes the temp, humidity and light readings. This function will create an instance of "),a("code",[t._v("JsonWriterStatic")]),t._v(" and "),a("code",[t._v("JsonWriterAutoObject")]),t._v(" objects, insert key-value pairs for each reading, and then get the JSON object as a string buffer that you can send along in a "),a("code",[t._v("Particle.publish()")]),t._v(" event.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createEventPayload")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" temp"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" humidity"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("double")]),t._v(" light"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  JsonWriterStatic"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token number"}},[t._v("256")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" jw"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    JsonWriterAutoObject "),a("span",{attrs:{class:"token function"}},[t._v("obj")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("jw"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    jw"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("insertKeyValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"temp"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" temp"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    jw"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("insertKeyValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"humidity"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" humidity"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    jw"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("insertKeyValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"light"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" light"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Now, let's publish a new event, and call the "),e("code",[this._v("createEventPayload")]),this._v(" function to provide a formatted JSON string for the data parameter. Add the following to the end of your "),e("code",[this._v("createEventPayload")]),this._v(" function.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("Particle"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("publish")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"env-vals"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jw"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getBuffer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PRIVATE"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("Finally, add a call to this function at the end of your loop, just inside the end of the "),e("code",[this._v("if")]),this._v(" statement.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("createEventPayload")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" humidity"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" currentLightLevel"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("Now, flash this new code to your firmware, and when your device comes back online, you'll see events in your Console. You can also head to the integration you created above and view status logs to make sure that your integration and middleware are properly connected.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"associating-devices-in-azure-iot-central"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#associating-devices-in-azure-iot-central","aria-hidden":"true"}},[this._v("#")]),this._v(" Associating Devices in Azure IoT Central")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("In the Devices window, you’ll see your template, and a link for Unassociated devices. Click that link, and if you see a device in the list with a name that matches the device id of your Particle device, you’ve configured everything successfully!")])]),e("li",[e("p",[this._v("Click the checkbox next to the device, then click the Associate menu item on the top right.")])]),e("li",[e("p",[this._v("Select your template and click Associate.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(158),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"building-visualizations-in-iot-central"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#building-visualizations-in-iot-central","aria-hidden":"true"}},[this._v("#")]),this._v(" Building Visualizations in IoT Central")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v('Click on the "Device Templates" menu item in IoT Central and click on your "Particle Argon" template.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(157),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v('Click the "Dashboard" menu item.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(156),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v('Click the "Last Known Value" widget. In the configuration window, set the title to "Last Temp," the measurement type to "Telemetry" and, in "Measures", click the visibility icon next to "Temperature" to select it.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(155),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Click save, and the widget will show up in the main panel, with simulated data.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(154),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Repeat steps 3 and 4 for the humidity and light sensor values.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(153),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v('Now, click the "Line Chart" widget. In the configuration window, enter "Env Vals" as the title, set a time range to the past hour, and click the visibility icon for all three values to select them.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(152),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("Click save and the chart will be created, again with simulated data.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(151),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v('Click on the "Devices" left menu item, and select your real device. Click the "Dashboard" top menu item and you\'ll see the real values from your Particle Argon.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:a(150),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Congratulations! You've completed this workshop. Now you're a Particle Master! Take a moment to pat yourself on the back and bask in your newfound IoT-commandery.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v('And if you want to take your exploration further, click the "Extra" link below!')])])}],n=a(0),r=Object(n.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),a("table",[t._m(1),a("tbody",[t._m(2),a("tr",[t._m(3),a("td",[t._v("Particle Workbench, an "),a("a",{attrs:{href:"https://portal.azure.com?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Azure"),a("OutboundLink")],1),t._v(" account, a Particle Argon, and the Grove Starter Kit for Particle Mesh, a Particle Debugger.")])]),t._m(4)])]),a("p",[t._v("In this session, you're going to explore the power of Particle integrations, integrate your project with Microsoft's Azure IoT Central and build dashboards to visualize your data. If you get stuck at any point during this session, "),a("a",{attrs:{href:"https://github.com/bsatrom/particle-azure-workshop-2019/blob/master/labs/lab3/src/lab3.cpp",target:"_blank",rel:"noopener noreferrer"}},[t._v("click here for the completed, working source"),a("OutboundLink")],1),t._v(".")]),a("p",[t._v("First, let's take a brief look at the Particle CLI and Device Cloud API.")]),t._m(5),t._m(6),a("ol",[a("li",[t._v("If you haven't already, "),a("a",{attrs:{href:"https://docs.particle.io/guide/tools-and-features/cli/photon/",target:"_blank",rel:"noopener noreferrer"}},[t._v("install the Particle CLI"),a("OutboundLink")],1),t._v(". Open a terminal window and type the following command:")])]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),a("p",[t._v("Behind the scenes, every interface that Particle provides to work with devices, from the Console, to mobile apps, SDKs, and the CLI, they all talk through a RESTful Device Cloud API. You can even call yourself, directly.")]),a("p",[a("em",[t._v("The next few steps assume you have cURL installed on your machine. If you don't have this command-line utility on your machine, you can download and install it "),a("a",{attrs:{href:"https://curl.haxx.se/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(" or use a GUI-based tool like "),a("a",{attrs:{href:"https://www.getpostman.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Postman"),a("OutboundLink")],1),t._v(".")])]),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),a("p",[t._v("You've now explored a number of ways that you can interface with the Particle Device cloud and your connected devices! Now, let's go beyond the Particle ecosystem and explore some of the ways that you can integrate with other 3rd party services, and backhaul your data into other cloud services.")]),t._m(24),a("p",[t._v("In this section, you'll explore Azure IoT Central, create a middleware app to broker a connection between Particle and Azure, ingest data, and add simple visualizations. First, you'll need to set-up an IoT Central instance.")]),t._m(25),a("ol",[a("li",[t._v("Sign up for an "),a("a",{attrs:{href:"https://azure.microsoft.com/en-us/get-started?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Azure Account"),a("OutboundLink")],1),t._v(", or sign in if you already have one.")])]),t._m(26),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Navigate to the "),a("a",{attrs:{href:"https://apps.azureiotcentral.com/build?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Build Your IoT Application"),a("OutboundLink")],1),t._v(' section of IoT Central and select the "Custom App" template.')])]),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),a("ol",{attrs:{start:"5"}},[a("li",[t._v("If you need to find the url to your IoT Central instance, you can view a list of all of the IoT Central instances for your subscription at "),a("a",{attrs:{href:"https://apps.azureiotcentral.com/myapps?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://apps.azureiotcentral.com/myapps"),a("OutboundLink")],1)])]),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),t._m(37),t._m(38),t._m(39),t._m(40),t._m(41),t._m(42),t._m(43),t._m(44),a("p",[t._v("Once done, you'll start to see simulated data show up on the right side of the screen.")]),t._m(45),t._m(46),a("p",[t._v("To integrate Particle devices with IoT Central, you’ll need to set-up two things:")]),t._m(47),a("p",[t._v("The middleware solution can be anything you like, and you can roll it yourself, but if, like us, you don’t enjoy spinning up sites from scratch just for fun, the Azure team provides an "),a("a",{attrs:{href:"https://github.com/Azure/iotc-device-bridge",target:"_blank",rel:"noopener noreferrer"}},[t._v("Azure IoT Central Device Bridge"),a("OutboundLink")],1),t._v(" template solution with one-click deployment into your Azure account.")]),t._m(48),t._m(49),t._m(50),t._m(51),t._m(52),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Once the app restarts, grab the function URL to set-up the webhook on the Particle side. For additional info on this or the last few steps, check out the "),a("a",{attrs:{href:"https://github.com/Azure/iotc-device-bridge/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("README")]),a("OutboundLink")],1),t._v(" for the device bridge project.")])]),a("p",[t._v("Now you're ready to create an integration between Particle and your middleware.")]),t._m(53),a("ol",[a("li",[t._v("Head to the "),a("a",{attrs:{href:"https://console.particle.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Particle Console"),a("OutboundLink")],1),t._v(" and click on the integrations icon on the left gutter navigation.")])]),t._m(54),t._m(55),t._m(56),t._m(57),t._m(58),t._m(59),t._m(60),t._m(61),t._m(62),t._m(63),t._m(64),t._m(65),t._m(66),t._m(67),t._m(68),t._m(69),t._m(70),t._m(71),t._m(72),t._m(73),t._m(74),t._m(75),t._m(76),t._m(77),t._m(78),t._m(79),t._m(80),t._m(81),t._m(82),t._m(83),t._m(84),t._m(85),t._m(86),a("p",[t._v("Before we move on to creating dashboards and seeing our data stream in, we need to let IoT Central know that our device is legit. Once you’ve added the publish logic to your firmware and flashed a device, head back to your IoT Central application and associate the device to the template you created earlier.")]),t._m(87),t._m(88),a("p",[t._v("If your device is not showing up, double-check the previous configuration steps to make sure everything is correct, including the App service function URL, and that the App service is running. You can also view the response header logs for your Webhook integration in the Particle console for additional insight.")]),t._m(89),a("p",[t._v("To build dashboard visualizations for our Particle Device, you'll need to edit the device template.")]),t._m(90),t._m(91),t._m(92),t._m(93),t._m(94),t._m(95),t._m(96),t._m(97),t._m(98),t._m(99),t._m(100),t._m(101),t._m(102),t._m(103),t._m(104),t._m(105),a("hr"),t._m(106),a("p",[t._v("To learn more about Azure IoT Central, check out the official documentation:")]),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/iot-central/preview/overview-iot-central?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("What is IoT Central?"),a("OutboundLink")],1)]),a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/iot-central/core/concepts-app-templates?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("What are Application Templates?"),a("OutboundLink")],1)]),a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/iot-central/preview/concepts-architecture?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Azure IoT Central Architecture"),a("OutboundLink")],1)]),a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/iot-central/preview/quick-deploy-iot-central?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Creating an Azure IoT Central Application"),a("OutboundLink")],1)]),a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/iot-central/preview/howto-set-up-template?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Define a Device type and Add a Device"),a("OutboundLink")],1)]),a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/iot-central/preview/tutorial-create-telemetry-rules?WT.mc_id=webinar-particle-pdecarlo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Monitor your Devices"),a("OutboundLink")],1)])]),t._m(107),a("p",[a("strong",[t._v("BEFORE YOU GO")]),t._v(" we'd love it if you could provide feedback on this workshop. Please visit "),a("a",{attrs:{href:"https://particleiot.typeform.com/to/JiF8xM",target:"_blank",rel:"noopener noreferrer"}},[t._v("this link"),a("OutboundLink")],1),t._v(" to rate your experience.")])])},s,!1,null,null,null);e.default=r.exports}}]);